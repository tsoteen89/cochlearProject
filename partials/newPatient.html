<div ng-controller="patientFormController">
    <!-- New Patient Header --> 
    <label style="font-size:2vw; color:#4B92AE; margin-left:8%;">New Patient</label><br><br>
    <!-- New Patient Form --> 
    <div id="cp_newPatientForm" >
        <div class="panel-body">
            <form ng-submit="processForm()" class="form form-vertical" novalidate>
                <!-- First Name, Last Name Fields --> 
                <div class="row">
                    <div class="control-group col-md-4 col-md-offset-1" >
                        <label>First Name</label>
                        <div class="controls" >
                            <input type="text" class="form-control" name="fname" 
                                   ng-model="formData.First" ng-required="true" placeholder="Enter First Name" ng-blur="fillBar()" alphabet>
                        </div>
                    </div>
                    <div class="control-group col-md-4 col-md-offset-1" >
                        <label>Last Name</label>
                        <div class="controls" >
                            <input type="text" class="form-control" name="lname" 
                                   ng-model="formData.Last" ng-required="true" placeholder="Enter Last Name" ng-blur="fillBar()" alphabet>
                        </div>
                    </div>
                </div>
                <br>
                <!-- DOB, Race Fields --> 
                <div class="row">
                    <!-- DOB FIELD --> 
                    <div class="control-group col-md-4 col-md-offset-1" >
                        <label>DOB</label><!--
                        <hovercard hover-tmpl-url="js/dateHelp.html" style="margin-left:25%">
                            <p style="color:#325bbd; font-size: 1vw" class="fa fa-question-circle">
                            </p>
                        </hovercard>-->
                        <div class="controls" >
                            <input type="date" id="date" class="form-control" name="date" 
                                   ng-model="formData.dob" ng-required="true" placeholder="YYYY-MM-DD" ng-blur="formatDate()">
                        </div>
                    </div>
                    <!-- Race FIELD --> 
                    <div class="control-group col-md-4 col-md-offset-1" >
                        <label>Race</label>
                        <div class="controls" >
                            <select class="form-control" ng-model="formData.Race" name="Race" ng-required="true" ng-blur="fillBar()">
                                <option>White</option>
                                <option>African American</option>
                                <option>Hispanic</option>
                                <option>Asian</option>
                                <option>American Indian</option>
                            </select>
                        </div>
                    </div>
                </div>
                <br>
                <!-- Sex, Phone # FIELDs --> 
                <div class="row">
                    <!-- Sex FIELD --> 
                    <div class="control-group col-md-4 col-md-offset-1">
                        <label>Sex</label>
                        <div class="controls" >
                            <input type="radio" name="Sex" ng-model="formData.Sex" value="Male"> Male<br>
                            <input type="radio" name="Sex" ng-model="formData.Sex" value="Female"> Female
                        </div>
                    </div>
                    <!-- Phone # FIELD --> 
                    <div class="control-group col-md-4 col-md-offset-1" >
                        <label>Phone Number</label>
                        <hovercard hover-tmpl-url="hovercards/phoneHelp.html" style="margin-left:25%">
                            <p style="color:#325bbd; font-size: 1vw" class="fa fa-question-circle">
                            </p>
                        </hovercard>
                        <input class="form-control" type="tel" pattern='\d{3}[\-]\d{4}[\-]\d{4}' 
                               ng-model="formData.Phone" placeholder="Phone: ###-###-####">
                    </div>
                </div>
                <br>        
                <!-- Address FIELD --> 
                <div class="row">
                    <div class="control-group col-md-9 col-md-offset-1">
                        <label>Address</label>
                        <input type="text" class="form-control" ng-model="formData.Address1" placeholder="Street Address">
                    </div>
                </div>
                <!-- City FIELD --> 
                <div class="row">
                    <div class="control-group col-md-9 col-md-offset-1">
                        <input type="text" class="form-control" ng-model="formData.City" placeholder="City">
                    </div>
                </div>
                <!-- State, Zipcode Fields --> 
                <div class="row">
                    <div class="control-group col-md-5 col-md-offset-1" >
                        <div class="controls" >                        
                            <select class="form-control" id="states" name="State" ng-options="states.name as states.name for states in usStates" 
                                    ng-model="formData.State">                              
                            </select>
                        </div>
                    </div>
                    <div class="control-group col-md-4" >
                        <div class="controls" >                        
                            <input type="text" class="form-control" ng-model="formData.Zipcode" placeholder="Zipcode">
                        </div>
                    </div>
                </div>
                <br>
                <!-- Submit button -->
                <button class="btn btn-primary col-md-3 col-md-offset-1" type="submit" value="submit" ng-click="addPatient()">Submit</button>
            </form>
        </div>
    </div>
</div>
<!-- Date picker for non chrome browsers -->
<script>
    (function() {
     var elem = document.createElement('input');
     elem.setAttribute('type', 'date');
    
     if ( elem.type === 'text' ) {
        $('#date').datepicker({
           dateFormat: 'yy-mm-dd',
           changeMonth: true,
           changeYear:true
       });
     }
    })();
</script>